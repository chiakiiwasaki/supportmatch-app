<div class='container'>
  <div class='row'>
    <div class='col-md-12 col-lg-12'>
    <div class="text-right">
      <%= search_form_for @q, url: search_requests_path do |f| %>
        <%= f.search_field :item_or_location_or_name_or_postal_code_or_comment_cont, placeholder: "(例)神奈川県横浜市" %>
        <%= f.submit '検索' %>
      <% end %>
    </div>
    <h4>依頼一覧</h4>
    <table cellpadding="10" class='table table-hover table-inverse'>
      <thead>
        <tr style="background-color: #EEEEEE;">
          <th colspan="1">依頼日</th>
          <th>物品名</th>
          <th>数量</th>
          <th>緊急性</th>
         <th><%= sort_link(@q, :impressionist_count, "閲覧数", default_order: :desc) %></th>
        </tr>
      </thead>
      <tbody>
        <% @requests.each do |request| %>
        <tr>
          <td><%= link_to request.created_at.strftime("%Y-%m-%d %H:%M"), request_path(request), class: "btn btn-link request_#{request.id}" %></td>
          <td><%= request.item %></td>
          <td><%= request.quantity %></td>
          <td><%= request.urgency_i18n %></td>
          <td><%= request.impressionist_count %></td>
        </tr>
        <% end %>
      </tbody>
    </table>
    <div class="pagination"><%= paginate @requests %></div>
    </div>
  </div>
</div>


<style>
  table{
    table-layout: fixed;
    width: 100%;
    margin-top: 20px;
  }
  tr{
    border-width: 1px 0;
    border-color: #CCCCCC;
    border-style: solid;
  }
  .pagination{
    justify-content: center;
    padding-top: 10px;
  }
</style>