<div class="belt-admin"></div>

<div class='container'>
  <div class='row'>
    <div class='col-md-12 col-lg-12'>
    <h4>Requests</h4>
    <table cellpadding="10" class='table table-hover table-inverse'>
      <thead>
        <tr style="background-color: #EEEEEE;">
          <th colspan="2"><%= sort_link(@q, :created_at, "依頼日", default_order: :desc) %></th>
          <th colspan="2">依頼者</th>
          <th colspan="2">物品名</th>
          <th colspan="2">数量</th>
          <th><%= sort_link(@q, :urgency, "緊急性", default_order: :desc) %></th>
          <th colspan="2"><%= sort_link(@q, :is_done, "ステータス", default_order: :desc) %></th>
        </tr>
      </thead>
      <tbody>
        <% @requests.each do |request| %>
        <tr>
          <td colspan="2"><%= link_to request.created_at.strftime("%Y-%m-%d %H:%M"), admins_request_path(request), class: "btn btn-link admins_request_#{request.id}" %></td>
          <td colspan="2"><%= truncate(request.user.name) %></td>
          <td colspan="2"><%= truncate(request.item) %></td>
          <td colspan="2"><%= truncate(request.quantity) %></td>
          <td><%= request.urgency_i18n %></td>
          <td colspan="2">
            <% if request.is_done %>
              <div style="color: gray;">お届け完了</div>
            <% elsif !request.user.is_valid %>
              <div style="color: gray;">未了のまま退会</div>
            <% else %>
              <div>依頼中</div>
            <% end %>
          </td>
        </tr>
        <% end %>
      </tbody>
    </table>
    <!--<div class="pagination"><%#= paginate @requests %></div>-->
    </div>
  </div>
</div>


<style>
  table{
    table-layout: fixed;
    width: 100%;
    margin-top: 20px;
  }
  tr{
    border-width: 1px 0;
    border-color: #CCCCCC;
    border-style: solid;
  }
  /*.pagination{*/
  /*  justify-content: center;*/
  /*  padding-top: 10px;*/
  /*}*/
</style>